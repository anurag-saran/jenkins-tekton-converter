{
  "pipeline_type": "Declarative",
  "agent": {
    "type": "any"
  },
  "environment": {
    "NODE_HOME": "/usr/local/node"
  },
  "parameters": null,
  "triggers": null,
  "options": null,
  "stages": [
    {
      "name": "Checkout",
      "agent": null,
      "environment": null,
      "tools": null,
      "when": null,
      "steps": [
        {
          "type": "git",
          "arguments": {
            "url": "https://github.com/your-repository/node-app.git"
          },
          "script_content": null,
          "credentials_used": null
        }
      ],
      "parallel": null
    },
    {
      "name": "Build",
      "agent": null,
      "environment": null,
      "tools": null,
      "when": null,
      "steps": [
        {
          "type": "script",
          "arguments": null,
          "script_content": "npm install",
          "credentials_used": null
        }
      ],
      "parallel": null
    },
    {
      "name": "Test",
      "agent": null,
      "environment": null,
      "tools": null,
      "when": null,
      "steps": [
        {
          "type": "script",
          "arguments": null,
          "script_content": "npm test",
          "credentials_used": null
        }
      ],
      "parallel": null
    },
    {
      "name": "Deploy",
      "agent": null,
      "environment": null,
      "tools": null,
      "when": null,
      "steps": [
        {
          "type": "script",
          "arguments": null,
          "script_content": "npm run deploy:staging",
          "credentials_used": null
        }
      ],
      "parallel": null
    },
    {
      "name": "Cleanup",
      "agent": null,
      "environment": null,
      "tools": null,
      "when": null,
      "steps": [
        {
          "type": "echo",
          "arguments": null,
          "script_content": "Cleaning up resources...",
          "credentials_used": null
        }
      ],
      "parallel": null
    }
  ],
  "post": {
    "always": [
      {
        "type": "echo",
        "arguments": null,
        "script_content": "Pipeline completed!",
        "credentials_used": null
      }
    ],
    "success": [
      {
        "type": "echo",
        "arguments": null,
        "script_content": "Deployment to staging successful!",
        "credentials_used": null
      }
    ],
    "failure": [
      {
        "type": "echo",
        "arguments": null,
        "script_content": "Pipeline failed! Check the logs for errors.",
        "credentials_used": null
      }
    ]
  }
}